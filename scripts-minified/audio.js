const a0_0x768d8a=a0_0x6baa;(function(_0x3e1c5e,_0x169a96){const _0xf6cef5=a0_0x6baa,_0x1e7600=_0x3e1c5e();while(!![]){try{const _0xfa3664=-parseInt(_0xf6cef5(0x1fd))/0x1+parseInt(_0xf6cef5(0x203))/0x2+-parseInt(_0xf6cef5(0x1e9))/0x3+parseInt(_0xf6cef5(0x205))/0x4+parseInt(_0xf6cef5(0x1f5))/0x5*(-parseInt(_0xf6cef5(0x201))/0x6)+-parseInt(_0xf6cef5(0x209))/0x7*(parseInt(_0xf6cef5(0x208))/0x8)+-parseInt(_0xf6cef5(0x1fb))/0x9*(-parseInt(_0xf6cef5(0x1ec))/0xa);if(_0xfa3664===_0x169a96)break;else _0x1e7600['push'](_0x1e7600['shift']());}catch(_0x3511f2){_0x1e7600['push'](_0x1e7600['shift']());}}}(a0_0xb2ee,0x5dcf6));let audioContext,textSound,isTextSoundPlaying=![],messageSoundBuffer,textSoundBuffer,newChoiceSoundBuffer,threeclickSoundBuffer,darklightSoundBuffer,soundIsOn=localStorage[a0_0x768d8a(0x206)](a0_0x768d8a(0x1fc))!==a0_0x768d8a(0x1ee);function initAudio(){const _0x1de539=a0_0x768d8a;!audioContext&&(audioContext=new(window['AudioContext']||window[(_0x1de539(0x1eb))])()),audioContext[_0x1de539(0x1fa)]==='suspended'&&audioContext[_0x1de539(0x1ea)](),loadSounds();}function a0_0x6baa(_0x3c75a6,_0x32bfe1){const _0xb2ee6c=a0_0xb2ee();return a0_0x6baa=function(_0x6baa28,_0x6aa82d){_0x6baa28=_0x6baa28-0x1e5;let _0x5d93b2=_0xb2ee6c[_0x6baa28];return _0x5d93b2;},a0_0x6baa(_0x3c75a6,_0x32bfe1);}async function loadSounds(){const _0x1a12dd=a0_0x768d8a;try{const _0x3e7b2f=await fetch(_0x1a12dd(0x1ef)),_0x2f71bd=await fetch('./assets/text.mp3'),_0x4b5238=await fetch(_0x1a12dd(0x1f1)),_0x2a0543=await fetch(_0x1a12dd(0x1e5)),_0x3e532d=await fetch(_0x1a12dd(0x202));messageSoundBuffer=await audioContext[_0x1a12dd(0x1f0)](await _0x3e7b2f[_0x1a12dd(0x1e6)]()),textSoundBuffer=await audioContext[_0x1a12dd(0x1f0)](await _0x2f71bd['arrayBuffer']()),newChoiceSoundBuffer=await audioContext[_0x1a12dd(0x1f0)](await _0x4b5238[_0x1a12dd(0x1e6)]()),darklightSoundBuffer=await audioContext[_0x1a12dd(0x1f0)](await _0x3e532d[_0x1a12dd(0x1e6)]()),threeclickSoundBuffer=await audioContext[_0x1a12dd(0x1f0)](await _0x2a0543[_0x1a12dd(0x1e6)]());}catch(_0x55dd68){console[_0x1a12dd(0x1f2)](_0x1a12dd(0x1f4),_0x55dd68);}}function playSound(_0x45c319,_0xf8486a=![]){const _0xd1d731=a0_0x768d8a;if(!audioContext||!_0x45c319)return;const _0x1854d8=audioContext[_0xd1d731(0x207)]();return _0x1854d8[_0xd1d731(0x1f7)]=_0x45c319,_0x1854d8[_0xd1d731(0x20a)]=_0xf8486a,_0x1854d8[_0xd1d731(0x1f3)](audioContext[_0xd1d731(0x1e7)]),_0x1854d8[_0xd1d731(0x1f8)](0x0),_0x1854d8;}function playMessageSound(){if(textSound)stopTextSound();soundIsOn&&messageSoundBuffer&&playSound(messageSoundBuffer);}function playChoiceSound(){if(textSound)stopTextSound();soundIsOn&&newChoiceSoundBuffer&&playSound(newChoiceSoundBuffer);}function playToggleSound(){if(textSound)stopTextSound();soundIsOn&&darklightSoundBuffer&&playSound(darklightSoundBuffer);}function playThreeClickSound(){if(textSound)stopTextSound();soundIsOn&&threeclickSoundBuffer&&playSound(threeclickSoundBuffer);}function a0_0xb2ee(){const _0xaaf7b8=['./assets/message.mp3','decodeAudioData','./assets/choices.mp3','error','connect','Error\x20loading\x20sounds:','1555765GHLUOW','setItem','buffer','start','src','state','36NDWLMY','soundIsOn','664414dYpcna','Speaker\x20On','Speaker\x20Off','alt','12hlNTcp','./assets/darkmode.mp3','621784xXcUrN','disconnect','2535368SfcXuA','getItem','createBufferSource','22824fqPWgN','749dTfRNp','loop','./assets/3dclick.mp3','arrayBuffer','destination','stop','1700139oIFGrE','resume','webkitAudioContext','3995540wHqUwy','../assets/speaker-off.png','false'];a0_0xb2ee=function(){return _0xaaf7b8;};return a0_0xb2ee();}function playTextSound(){soundIsOn&&textSoundBuffer&&!isTextSoundPlaying&&(isTextSoundPlaying=!![],textSound=playSound(textSoundBuffer,!![]));}function stopTextSound(){const _0x414125=a0_0x768d8a;textSound&&(textSound[_0x414125(0x1e8)](),textSound[_0x414125(0x204)](),textSound=null),isTextSoundPlaying=![];}function toggleSound(){const _0x354c76=a0_0x768d8a;soundIsOn=!soundIsOn,localStorage[_0x354c76(0x1f6)]('soundIsOn',soundIsOn),soundIsOn?initAudio():cleanupSounds(),updateSpeakerIcon();}function updateSpeakerIcon(){const _0x45dddf=a0_0x768d8a,_0x16781a=document['getElementById']('speaker-icon');_0x16781a[_0x45dddf(0x1f9)]=soundIsOn?'../assets/speaker-on.png':_0x45dddf(0x1ed),_0x16781a[_0x45dddf(0x200)]=soundIsOn?_0x45dddf(0x1fe):_0x45dddf(0x1ff);}function cleanupSounds(){stopTextSound(),audioContext&&(audioContext['close'](),audioContext=null);}export{initAudio,playMessageSound,playChoiceSound,playToggleSound,playThreeClickSound,playTextSound,stopTextSound,toggleSound,updateSpeakerIcon,cleanupSounds};