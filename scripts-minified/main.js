const a3_0x2ef7b2=a3_0x5879;(function(_0x25c4f3,_0x52454b){const _0x3f618e=a3_0x5879,_0x22f7a7=_0x25c4f3();while(!![]){try{const _0x31d50c=parseInt(_0x3f618e(0x173))/0x1*(-parseInt(_0x3f618e(0x170))/0x2)+-parseInt(_0x3f618e(0x10a))/0x3+parseInt(_0x3f618e(0x181))/0x4+-parseInt(_0x3f618e(0x12e))/0x5*(parseInt(_0x3f618e(0x19c))/0x6)+parseInt(_0x3f618e(0x127))/0x7+-parseInt(_0x3f618e(0x196))/0x8+parseInt(_0x3f618e(0x148))/0x9;if(_0x31d50c===_0x52454b)break;else _0x22f7a7['push'](_0x22f7a7['shift']());}catch(_0x5d64b9){_0x22f7a7['push'](_0x22f7a7['shift']());}}}(a3_0xc41e,0xdc45a));import{initAudio,playMessageSound,playChoiceSound,playTextSound,stopTextSound,toggleSound,updateSpeakerIcon}from'./audio.js';import{initTTS,readMessage}from'./tts.js';import{initThreeJS,checkThreeEligibility,cleanupThreeJS}from'./threed.js';import{openMiniGame,availableGames}from'./minigames.js';let story,currentChoices=[],languageSet,choiceDiv=null;initAudio();const tts=initTTS();initThreeJS(),fetch('../portfoliostory.json')[a3_0x2ef7b2(0x114)](_0x371c67=>_0x371c67[a3_0x2ef7b2(0x124)]())[a3_0x2ef7b2(0x114)](_0x3a7982=>{const _0x3b552f=a3_0x2ef7b2;story=new inkjs[(_0x3b552f(0x198))](_0x3a7982),continueStory();});const chatContainer=document[a3_0x2ef7b2(0x11b)]('chat-container'),userInput=document[a3_0x2ef7b2(0x11b)](a3_0x2ef7b2(0x144)),sendButton=document[a3_0x2ef7b2(0x11b)](a3_0x2ef7b2(0x126)),scrollToBottomButton=document[a3_0x2ef7b2(0x11b)](a3_0x2ef7b2(0xfe)),modal=document[a3_0x2ef7b2(0x11b)](a3_0x2ef7b2(0x138)),closeModal=document['getElementsByClassName'](a3_0x2ef7b2(0x187))[0x0],projectIframe=document[a3_0x2ef7b2(0x11b)](a3_0x2ef7b2(0x193)),appContainer=document[a3_0x2ef7b2(0x102)]('.app-container');function randomChooseFromArray(_0x518bb2){const _0x37fb9c=a3_0x2ef7b2,_0x5ed1ae=Math['floor'](Math['random']()*_0x518bb2[_0x37fb9c(0x140)]);return _0x518bb2[_0x5ed1ae];}function continueStory(){const _0x4b057d=a3_0x2ef7b2;let _0x581dfb='',_0xf69c33=![],_0x463183=null,_0x559ee4=null,_0x5362a0=null;while(story['canContinue']){const _0x234b1a=story[_0x4b057d(0x117)]();if(_0x234b1a[_0x4b057d(0x111)](':APPDO:')){let _0x249717=_0x234b1a[_0x4b057d(0x175)](':APPDO:'),_0x4f67dd=_0x249717[0x1][_0x4b057d(0x10d)]();console[_0x4b057d(0x14a)]('contains\x20'+_0x4f67dd);if(_0x4f67dd[_0x4b057d(0x111)](_0x4b057d(0x177)))_0x559ee4=[_0x4b057d(0x177),_0x4b057d(0x19e)];else{if(_0x4f67dd[_0x4b057d(0x111)]('unity'))_0x559ee4=[_0x4b057d(0x169),_0x4b057d(0x100)];else{if(_0x4f67dd[_0x4b057d(0x111)](_0x4b057d(0x17a)))_0x559ee4=[_0x4b057d(0xf8),_0x4b057d(0x147)];else{if(_0x4f67dd['includes'](_0x4b057d(0x184)))_0x559ee4=['threeJS\x20projects',_0x4b057d(0x108)];else{if(_0x4f67dd[_0x4b057d(0x111)]('jsgame')){const _0x3daca8=randomChooseFromArray(availableGames);_0x559ee4=[_0x4b057d(0x156)+_0x3daca8+'\x22',_0x4b057d(0x19a)+_0x3daca8];}else{if(_0x4f67dd[_0x4b057d(0x111)](_0x4b057d(0x18f))){let _0x2e2d48=_0x4f67dd[_0x4b057d(0x175)]('emoji');_0x5362a0=_0x2e2d48[0x1][_0x4b057d(0x10d)](),addMessage({'emoji':_0x5362a0});}else{if(_0x4f67dd['includes'](_0x4b057d(0x130))){let _0x3522ae=_0x4f67dd[_0x4b057d(0x175)](_0x4b057d(0x130));_0x463183=_0x3522ae[0x1]['trim']();}}}}}}}_0x581dfb+=_0x249717[0x0]['trim']()+'\x0a';}else{if(_0x234b1a[_0x4b057d(0x111)](_0x4b057d(0x10f)))_0x581dfb+=_0x234b1a+'\x0a',currentJoke?(console['log']('second\x20time'),_0x581dfb=_0x581dfb[_0x4b057d(0x179)](/KNOCKNAME/g,currentJoke),console[_0x4b057d(0x14a)](_0x581dfb),_0x234b1a[_0x4b057d(0x111)](_0x4b057d(0x14d))&&(_0x581dfb=_0x581dfb[_0x4b057d(0x179)](/KNOCKFULLNAME/g,knockKnockJokes[_0x4b057d(0x17b)](currentJoke)),console[_0x4b057d(0x14a)](_0x581dfb),currentJoke=null,currentJokeIndex++,currentJokeIndex>knockkeysArray[_0x4b057d(0x140)]-0x1&&(currentJokeIndex=0x0))):(console['log'](_0x4b057d(0x160)),currentJoke=knockkeysArray[currentJokeIndex],_0x581dfb=_0x581dfb[_0x4b057d(0x179)](/KNOCKNAME/g,currentJoke),console[_0x4b057d(0x14a)](_0x581dfb));else{if(_0x234b1a[_0x4b057d(0x111)](_0x4b057d(0x128)))_0x581dfb+=_0x234b1a+'\x0a',console[_0x4b057d(0x14a)](_0x4b057d(0x128)),!currentJoke&&(currentJoke=languageSet===_0x4b057d(0x162)?FrenchJokeskeysArray[currentJokeIndex]:JapaneseJokeskeysArray[currentJokeIndex],_0x581dfb=_0x581dfb[_0x4b057d(0x179)](/JOKESTART/g,currentJoke),console[_0x4b057d(0x14a)](_0x581dfb));else _0x234b1a[_0x4b057d(0x111)](_0x4b057d(0x106))?(_0x581dfb+=_0x234b1a+'\x0a',console[_0x4b057d(0x14a)](_0x4b057d(0x106)),currentJoke&&(_0x581dfb=_0x581dfb[_0x4b057d(0x179)](/JOKEENDS/g,languageSet===_0x4b057d(0x162)?FrenchJokes['get'](currentJoke):JapaneseJokes[_0x4b057d(0x17b)](currentJoke)),console[_0x4b057d(0x14a)](_0x581dfb),currentJoke=null,currentJokeIndex++,languageSet==='fr-FR'?currentJokeIndex>FrenchJokeskeysArray['length']-0x1&&(currentJokeIndex=0x0):currentJokeIndex>JapaneseJokeskeysArray['length']-0x1&&(currentJokeIndex=0x0))):_0x581dfb+=_0x234b1a+'\x0a';}}}if(story[_0x4b057d(0x165)][_0x4b057d(0x140)]>0x0){currentChoices=story['currentChoices'],_0xf69c33=!![];if(currentJoke&&languageSet==='en-US')for(let _0x15e0e3=0x0;_0x15e0e3<currentChoices[_0x4b057d(0x140)];_0x15e0e3++){currentChoices[_0x15e0e3][_0x4b057d(0x199)][_0x4b057d(0x111)](_0x4b057d(0x10f))&&(currentChoices[_0x15e0e3][_0x4b057d(0x199)]=currentChoices[_0x15e0e3][_0x4b057d(0x199)][_0x4b057d(0x179)](/KNOCKNAME/g,currentJoke));}}addMessage({'text':_0x581dfb[_0x4b057d(0x10d)](),'sender':'app','choices':_0xf69c33,'imagePath':_0x463183,'link':_0x559ee4});}function addMessage({text:text=null,sender:sender=a3_0x2ef7b2(0x197),choices:choices=null,imagePath:imagePath=null,link:link=null,emoji:emoji=null}={}){const _0x2c38e7=a3_0x2ef7b2;if(text){const _0x1bd523=document[_0x2c38e7(0x16d)]('div');_0x1bd523[_0x2c38e7(0x12a)]='message\x20'+sender+_0x2c38e7(0x16b);const _0x5177cb=document[_0x2c38e7(0x16d)](_0x2c38e7(0x12f));_0x5177cb[_0x2c38e7(0x12a)]=_0x2c38e7(0x172),_0x1bd523[_0x2c38e7(0x18a)](_0x5177cb),chatContainer[_0x2c38e7(0x18a)](_0x1bd523);if(sender==='user'){if(!languageSet){console[_0x2c38e7(0x14a)](_0x2c38e7(0xf4)+text);if(text==='oui')languageSet=_0x2c38e7(0x162),tts&&tts[_0x2c38e7(0xfa)](languageSet),console[_0x2c38e7(0x14a)](_0x2c38e7(0x17f)+languageSet);else{if(text==='はい')languageSet=_0x2c38e7(0x161),tts&&tts['setLanguage'](languageSet),console[_0x2c38e7(0x14a)]('language\x20set\x20to\x20:'+languageSet);else text===_0x2c38e7(0x125)&&(languageSet=_0x2c38e7(0x129),tts&&tts[_0x2c38e7(0xfa)](languageSet),console['log'](_0x2c38e7(0x17f)+languageSet));}}_0x5177cb[_0x2c38e7(0x17e)]=text,chatContainer[_0x2c38e7(0x109)]=chatContainer[_0x2c38e7(0x122)];}else{let _0xc55ab8=0x0;const _0x40ac16=setInterval(()=>{const _0xb00812=_0x2c38e7;_0x5177cb[_0xb00812(0x17e)]+=text[_0xc55ab8],playTextSound(),chatContainer[_0xb00812(0x109)]=chatContainer[_0xb00812(0x122)],_0xc55ab8++;if(_0xc55ab8===text[_0xb00812(0x140)]){clearInterval(_0x40ac16),stopTextSound();languageSet&&(_0x5177cb['onclick']=()=>readMessage(text));if(imagePath){const _0x3eb594=document['createElement'](_0xb00812(0x194));_0x3eb594[_0xb00812(0x116)]=imagePath,_0x3eb594[_0xb00812(0x12a)]=_0xb00812(0x18d),_0x3eb594[_0xb00812(0x141)]=()=>openImageModal(imagePath),_0x1bd523[_0xb00812(0x18a)](_0x3eb594);}link&&AddLink(link),setTimeout(()=>{choices&&AddChoices();},0x1f4);}},0x19);}}else{imagePath&&AddImg(imagePath);if(emoji){const _0x2105dc=document[_0x2c38e7(0x16d)]('div');_0x2105dc[_0x2c38e7(0x12a)]=_0x2c38e7(0x14b)+sender+_0x2c38e7(0x180);const _0x2bb719=document[_0x2c38e7(0x16d)]('div');_0x2bb719[_0x2c38e7(0x12a)]=_0x2c38e7(0x172),_0x2bb719[_0x2c38e7(0x17e)]+=emoji,_0x2105dc['appendChild'](_0x2bb719),chatContainer['appendChild'](_0x2105dc),playMessageSound(),chatContainer['scrollTop']=chatContainer['scrollHeight'];}}}function handleUserInput(_0x5caaff){const _0x2e73a7=a3_0x2ef7b2,_0x454425=_0x5caaff[_0x2e73a7(0x189)](),_0x3a17dd=findClosestMatch(_0x454425,currentChoices);if(_0x3a17dd){const _0xd93eed=currentChoices[_0x2e73a7(0x186)](_0x3a17dd);addMessage({'text':currentChoices[_0xd93eed][_0x2e73a7(0x199)],'sender':_0x2e73a7(0x17c)}),GotoChoice(_0xd93eed);}else{addMessage({'text':_0x5caaff,'sender':_0x2e73a7(0x17c)});if(_0x5caaff[_0x2e73a7(0x189)]()===_0x2e73a7(0x18e)){const _0x673c21=randomChooseFromArray(availableGames);AddLink([_0x2e73a7(0x156)+_0x673c21+'\x22',_0x2e73a7(0x19a)+_0x673c21]);}else{let _0x2d7376='';if(languageSet){if(languageSet==='ja-JP')_0x2d7376=_0x2e73a7(0x16a);else languageSet===_0x2e73a7(0x162)?_0x2d7376=_0x2e73a7(0x11e):_0x2d7376=_0x2e73a7(0xf7);}else _0x2d7376='I\x20didn\x27t\x20understand\x20that\x20choice.\x20Please\x20choose\x20from\x20the\x20above.';addMessage({'text':_0x2d7376,'sender':_0x2e73a7(0x197)});}}}function a3_0xc41e(){const _0x4402b1=['replace','flutter','get','user','Luke','textContent','language\x20set\x20to\x20:','-message\x20emoji','1668208mgjYpP','北海道の一番北の町の名前わかる？','Que\x20se\x20passe-t-il\x20quand\x202\x20poissons\x20s\x27énervent','threeJS','カオナシが好きの花は？','indexOf','close','min','toLowerCase','appendChild','addEventListener','click','message-image','game','emoji','ミカン','Le\x20porc\x20USB\x20!','Harry','project-iframe','img','through\x20the\x20peephole\x20and\x20find\x20out!','11069440KdEwbm','app','Story','text','#game','fontSize','9330SVpAeq','Le\x20citron\x20!','https://www.kidsfab.jp','Pourquoi\x20est-ce\x20que\x20les\x20moutons\x20aiment\x20le\x20chewing-gum\x20?','パンはパンでも食べられないパンはなに?','not\x20set\x20','Nana','block','I\x20didn\x27t\x20understand\x20that\x20choice.\x20Please\x20choose\x20from\x20the\x20above.','flutter\x20projects','key','setLanguage','Que\x20dit\x20une\x20mère\x20à\x20son\x20fils\x20geek\x20quand\x20le\x20dîner\x20est\x20servi\x20?','Annie','target','scroll-to-bottom','100%','https://www.unity.com','Atch','querySelector','keys','朝かなー！','max','JOKEENDS','ChooseChoiceIndex','https://www.threejs.org','scrollTop','4555455sroKzG','Chez\x20ses\x20transparents\x20!','clientHeight','trim','message\x20app-message\x20choices','KNOCKNAME','無いよう','includes','Où\x20est-ce\x20que\x20l\x27homme\x20invisible\x20part\x20en\x20vacances\x20?','DOMContentLoaded','then','Annie\x20body\x20home?','src','Continue','16px','flex','吹っ飛んだ','getElementById','10px','入浴！','Je\x20n’ai\x20pas\x20compris\x20ce\x20choix.\x20Veuillez\x20choisir\x20parmi\x20les\x20options\x20ci-dessus.','marginRight','resize','Lettuce','scrollHeight','Truiteur\x20!','json','yes','send-button','3171721UhNlPL','JOKESTART','en-US','className','Quel\x20est\x20l\x27animal\x20le\x20plus\x20connecté\x20?','in,\x20it\x27s\x20freezing\x20out\x20here!','魚はいつ食べる？','5770unXvko','div','image','Candice','floor','<svg\x20width=\x2250px\x22\x20height=\x2250px\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20xmlns=\x22http://www.w3.org/2000/svg\x22><g\x20id=\x22SVGRepo_bgCarrier\x22\x20stroke-width=\x220\x22></g><g\x20id=\x22SVGRepo_tracerCarrier\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22></g><g\x20id=\x22SVGRepo_iconCarrier\x22>\x20<g\x20id=\x22Interface\x20/\x20External_Link\x22>\x20<path\x20id=\x22Vector\x22\x20d=\x22M10.0002\x205H8.2002C7.08009\x205\x206.51962\x205\x206.0918\x205.21799C5.71547\x205.40973\x205.40973\x205.71547\x205.21799\x206.0918C5\x206.51962\x205\x207.08009\x205\x208.2002V15.8002C5\x2016.9203\x205\x2017.4801\x205.21799\x2017.9079C5.40973\x2018.2842\x205.71547\x2018.5905\x206.0918\x2018.7822C6.5192\x2019\x207.07899\x2019\x208.19691\x2019H15.8031C16.921\x2019\x2017.48\x2019\x2017.9074\x2018.7822C18.2837\x2018.5905\x2018.5905\x2018.2839\x2018.7822\x2017.9076C19\x2017.4802\x2019\x2016.921\x2019\x2015.8031V14M20\x209V4M20\x204H15M20\x204L13\x2011\x22\x20stroke=\x22#ff9300\x22\x20stroke-width=\x222.4\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22></path>\x20</g>\x20</g></svg>','お風呂に入るのが好きな街はどこ?','height','Yodel','scroll','modal','from','Wooden','フライパン！','your\x20business!','Il\x20libère\x20la\x20RAM.','innerHeight','modal-image','length','onclick','body','アルミ缶の上にある','user-input','you\x20like\x20to\x20know!','Le\x20thon\x20monte\x20!','https://www.flutter.dev','43751133vIaJDy','クチナシ','log','message\x20','door\x20open\x20or\x20what?','KNOCKFULLNAME','Parce\x20que\x20c’est\x20bon\x20pour\x20l’haleine\x20!','モグラの歯','Olive','375px','innerWidth','style','モーグラグラ','about:blank','Play\x20\x22','charAt','Quelle\x20est\x20l\x27info\x20la\x20plus\x20tirée\x20par\x20les\x20cheveux\x20?','100vh','choice\x20removed','value','ごみんなさい','Alt\x20Tab\x20!','Enter','preventDefault','first\x20time','ja-JP','fr-FR','clean...','a\x20nice\x20place\x20you\x20got\x20here!','currentChoices','returnValue','ゴミを捨てて','Quel\x20fruit\x20est\x20assez\x20fort\x20pour\x20couper\x20des\x20arbres\x20?','unity\x20projects','その選択が理解できませんでした。上記の選択肢から選んでください。','-message','up\x20and\x20answer\x20the\x20door!','createElement','alignItems','none','2iNcjqK','width','message-text','132523UFNnGp','random','split','Cow','about','display'];a3_0xc41e=function(){return _0x4402b1;};return a3_0xc41e();}function GotoChoice(_0x2b5b06){const _0x346d51=a3_0x2ef7b2;RemoveChoices(),story[_0x346d51(0x107)](_0x2b5b06),continueStory();}function clickAnswer(_0x67760a){const _0x23ac8f=a3_0x2ef7b2;addMessage({'text':currentChoices[_0x67760a]['text'],'sender':_0x23ac8f(0x17c)}),GotoChoice(_0x67760a);}function AddChoices(){const _0x255ecf=a3_0x2ef7b2;choiceDiv&&RemoveChoices();choiceDiv=document['createElement'](_0x255ecf(0x12f)),choiceDiv[_0x255ecf(0x12a)]=_0x255ecf(0x10e);const _0x3bcc87=document[_0x255ecf(0x16d)](_0x255ecf(0x12f));_0x3bcc87['className']=_0x255ecf(0x172),choiceDiv[_0x255ecf(0x18a)](_0x3bcc87);const _0x491fc3=document['createElement'](_0x255ecf(0x12f));_0x491fc3[_0x255ecf(0x12a)]='message-choices',_0x3bcc87[_0x255ecf(0x18a)](_0x491fc3);const _0x6b829d=document[_0x255ecf(0x16d)]('ul');_0x491fc3[_0x255ecf(0x18a)](_0x6b829d);for(let _0x45337d=0x0;_0x45337d<currentChoices[_0x255ecf(0x140)];_0x45337d++){const _0x1c72a6=document['createElement']('li'),_0x259a9b=document[_0x255ecf(0x16d)]('p');_0x259a9b['textContent']=currentChoices[_0x45337d][_0x255ecf(0x199)],_0x259a9b['addEventListener'](_0x255ecf(0x18c),()=>clickAnswer(_0x45337d)),_0x1c72a6[_0x255ecf(0x18a)](_0x259a9b),_0x6b829d[_0x255ecf(0x18a)](_0x1c72a6);}chatContainer['appendChild'](choiceDiv),chatContainer['scrollTop']=chatContainer[_0x255ecf(0x122)],playChoiceSound();}function RemoveChoices(){const _0x4a217e=a3_0x2ef7b2;choiceDiv&&(console[_0x4a217e(0x14a)](_0x4a217e(0x15a)),chatContainer['removeChild'](choiceDiv),choiceDiv=null);}function AddLink(_0x28c982){const _0x3c384a=a3_0x2ef7b2,_0x39eaa3=document[_0x3c384a(0x16d)]('div');_0x39eaa3[_0x3c384a(0x12a)]=_0x3c384a(0x10e);const _0x2321d7=document[_0x3c384a(0x16d)]('div');_0x2321d7[_0x3c384a(0x12a)]=_0x3c384a(0x172),_0x39eaa3['appendChild'](_0x2321d7);const _0x30d146=document['createElement'](_0x3c384a(0x12f));_0x30d146['style'][_0x3c384a(0x178)]=_0x3c384a(0x119),_0x30d146['style'][_0x3c384a(0x16e)]='center',_0x2321d7['appendChild'](_0x30d146);const _0x15de85=document[_0x3c384a(0x16d)](_0x3c384a(0x12f));_0x15de85[_0x3c384a(0x153)][_0x3c384a(0x11f)]=_0x3c384a(0x11c),_0x15de85['innerHTML']=_0x3c384a(0x133),_0x15de85[_0x3c384a(0x141)]=()=>{openlinkModal(_0x28c982[0x1]);},_0x30d146[_0x3c384a(0x18a)](_0x15de85);const _0x1e757d=document[_0x3c384a(0x16d)]('div');_0x1e757d[_0x3c384a(0x153)][_0x3c384a(0x19b)]=_0x3c384a(0x118),_0x1e757d[_0x3c384a(0x17e)]=_0x28c982[0x0],_0x30d146[_0x3c384a(0x18a)](_0x1e757d),chatContainer[_0x3c384a(0x18a)](_0x39eaa3),openlinkModal(_0x28c982[0x1],0x3e8),playMessageSound(),chatContainer['scrollTop']=chatContainer[_0x3c384a(0x122)];}function AddImg(_0x47efc2){const _0x14eb3c=a3_0x2ef7b2,_0x40a6b5=document[_0x14eb3c(0x16d)](_0x14eb3c(0x12f));_0x40a6b5[_0x14eb3c(0x12a)]=_0x14eb3c(0x10e);const _0x49f1eb=document[_0x14eb3c(0x16d)]('div');_0x49f1eb['className']=_0x14eb3c(0x172),_0x40a6b5[_0x14eb3c(0x18a)](_0x49f1eb);const _0x1c5037=document['createElement'](_0x14eb3c(0x194));_0x1c5037[_0x14eb3c(0x116)]=_0x47efc2,_0x1c5037[_0x14eb3c(0x12a)]=_0x14eb3c(0x18d),_0x1c5037[_0x14eb3c(0x141)]=()=>openImageModal(_0x47efc2),_0x49f1eb[_0x14eb3c(0x18a)](_0x1c5037),chatContainer[_0x14eb3c(0x18a)](_0x40a6b5),playMessageSound(),chatContainer[_0x14eb3c(0x109)]=chatContainer[_0x14eb3c(0x122)];}function openImageModal(_0x14a2c3){const _0x5f070d=a3_0x2ef7b2,_0x1b88bf=document[_0x5f070d(0x16d)](_0x5f070d(0x12f));_0x1b88bf[_0x5f070d(0x12a)]='image-modal';const _0x3f09fe=document[_0x5f070d(0x16d)](_0x5f070d(0x194));_0x3f09fe[_0x5f070d(0x116)]=_0x14a2c3,_0x3f09fe[_0x5f070d(0x12a)]=_0x5f070d(0x13f),_0x1b88bf['appendChild'](_0x3f09fe),document['body'][_0x5f070d(0x18a)](_0x1b88bf),_0x1b88bf[_0x5f070d(0x141)]=()=>{const _0x180fa3=_0x5f070d;document[_0x180fa3(0x142)]['removeChild'](_0x1b88bf);};}const knockKnockJokes=new Map([[a3_0x2ef7b2(0xfc),a3_0x2ef7b2(0x115)],[a3_0x2ef7b2(0x121),a3_0x2ef7b2(0x12c)],[a3_0x2ef7b2(0x101),'Bless\x20you!'],[a3_0x2ef7b2(0x192),a3_0x2ef7b2(0x16c)],[a3_0x2ef7b2(0x150),'you\x20and\x20I\x20miss\x20you!'],[a3_0x2ef7b2(0x176),'say\x20who?\x20No,\x20cows\x20say\x20moooo!'],['Dishes',a3_0x2ef7b2(0x164)],[a3_0x2ef7b2(0xf5),a3_0x2ef7b2(0x13c)],[a3_0x2ef7b2(0x17d),a3_0x2ef7b2(0x195)],[a3_0x2ef7b2(0x131),a3_0x2ef7b2(0x14c)],[a3_0x2ef7b2(0x136),'ay-hee-hoo!'],[a3_0x2ef7b2(0x13a),a3_0x2ef7b2(0x145)]]),FrenchJokes=new Map([[a3_0x2ef7b2(0x183),a3_0x2ef7b2(0x146)],[a3_0x2ef7b2(0x168),a3_0x2ef7b2(0x19d)],['Quel\x20est\x20le\x20réseau\x20préféré\x20des\x20pêcheurs\x20?',a3_0x2ef7b2(0x123)],[a3_0x2ef7b2(0x112),a3_0x2ef7b2(0x10b)],['Quels\x20sont\x20les\x20fruits\x20qu\x27on\x20trouve\x20dans\x20toutes\x20les\x20maisons\x20?','Des\x20coings\x20et\x20des\x20mûres\x20!'],[a3_0x2ef7b2(0x19f),a3_0x2ef7b2(0x14e)],[a3_0x2ef7b2(0x158),'Il\x20n’y\x20a\x20pas\x20de\x20chauve\x20à\x20Bastia,\x20mais\x20à\x20Calvi\x20si.'],[a3_0x2ef7b2(0xfb),a3_0x2ef7b2(0x15d)],['Que\x20fait\x20un\x20geek\x20quand\x20il\x20descend\x20du\x20métro\x20?',a3_0x2ef7b2(0x13d)],[a3_0x2ef7b2(0x12b),a3_0x2ef7b2(0x191)]]),JapaneseJokes=new Map([['布団',a3_0x2ef7b2(0x11a)],[a3_0x2ef7b2(0x143),a3_0x2ef7b2(0x190)],['内容',a3_0x2ef7b2(0x110)],[a3_0x2ef7b2(0x185),a3_0x2ef7b2(0x149)],[a3_0x2ef7b2(0x12d),a3_0x2ef7b2(0x104)],[a3_0x2ef7b2(0x182),'わっかない！'],[a3_0x2ef7b2(0x134),a3_0x2ef7b2(0x11d)],[a3_0x2ef7b2(0x14f),a3_0x2ef7b2(0x154)],[a3_0x2ef7b2(0x167),a3_0x2ef7b2(0x15c)],[a3_0x2ef7b2(0xf3),a3_0x2ef7b2(0x13b)]]);let currentJoke=null;const knockkeysArray=Array['from'](knockKnockJokes[a3_0x2ef7b2(0x103)]()),FrenchJokeskeysArray=Array[a3_0x2ef7b2(0x139)](FrenchJokes[a3_0x2ef7b2(0x103)]()),JapaneseJokeskeysArray=Array['from'](JapaneseJokes[a3_0x2ef7b2(0x103)]()),shuffleArray=_0x596902=>{const _0x39230e=a3_0x2ef7b2;for(let _0x1e0dc0=_0x596902[_0x39230e(0x140)]-0x1;_0x1e0dc0>0x0;_0x1e0dc0--){const _0x15e951=Math[_0x39230e(0x132)](Math[_0x39230e(0x174)]()*(_0x1e0dc0+0x1));[_0x596902[_0x1e0dc0],_0x596902[_0x15e951]]=[_0x596902[_0x15e951],_0x596902[_0x1e0dc0]];}};shuffleArray(knockkeysArray),shuffleArray(FrenchJokeskeysArray),shuffleArray(JapaneseJokeskeysArray);let currentJokeIndex=0x0;function openlinkModal(_0xe065ab,_0x4fb65){const _0x1f11ff=a3_0x2ef7b2;projectIframe[_0x1f11ff(0x153)][_0x1f11ff(0x178)]=_0x1f11ff(0x16f);if(_0xe065ab[_0x1f11ff(0x111)](_0x1f11ff(0x19a))){const _0x1c89d9=_0xe065ab[_0x1f11ff(0x175)]('#game')[0x1][_0x1f11ff(0x10d)]();setTimeout(()=>{openMiniGame(_0x1c89d9);},_0x4fb65?_0x4fb65:0x0);}else projectIframe['style'][_0x1f11ff(0x178)]=_0x1f11ff(0xf6),projectIframe[_0x1f11ff(0x116)]=_0xe065ab,closeModal[_0x1f11ff(0x141)]=function(){const _0x583bde=_0x1f11ff;modal[_0x583bde(0x153)][_0x583bde(0x178)]=_0x583bde(0x16f),projectIframe['src']=_0x583bde(0x155);},setTimeout(()=>{const _0x1d9f3d=_0x1f11ff;modal[_0x1d9f3d(0x153)]['display']=_0x1d9f3d(0xf6);},_0x4fb65?_0x4fb65:0x0);}function levenshteinDistance(_0x1013c4,_0x45bb03){const _0x422b3c=a3_0x2ef7b2,_0x57b076=[];for(let _0x313507=0x0;_0x313507<=_0x45bb03['length'];_0x313507++){_0x57b076[_0x313507]=[_0x313507];}for(let _0x4dbb2a=0x0;_0x4dbb2a<=_0x1013c4['length'];_0x4dbb2a++){_0x57b076[0x0][_0x4dbb2a]=_0x4dbb2a;}for(let _0xd9c5d6=0x1;_0xd9c5d6<=_0x45bb03[_0x422b3c(0x140)];_0xd9c5d6++){for(let _0x49aca8=0x1;_0x49aca8<=_0x1013c4[_0x422b3c(0x140)];_0x49aca8++){_0x45bb03[_0x422b3c(0x157)](_0xd9c5d6-0x1)==_0x1013c4['charAt'](_0x49aca8-0x1)?_0x57b076[_0xd9c5d6][_0x49aca8]=_0x57b076[_0xd9c5d6-0x1][_0x49aca8-0x1]:_0x57b076[_0xd9c5d6][_0x49aca8]=Math[_0x422b3c(0x188)](_0x57b076[_0xd9c5d6-0x1][_0x49aca8-0x1]+0x1,_0x57b076[_0xd9c5d6][_0x49aca8-0x1]+0x1,_0x57b076[_0xd9c5d6-0x1][_0x49aca8]+0x1);}}return _0x57b076[_0x45bb03['length']][_0x1013c4['length']];}function findClosestMatch(_0x103aaf,_0x2a24e5){const _0x307ca4=a3_0x2ef7b2;let _0x20d0df=null,_0x160d20=Infinity;for(let _0xd4e240=0x0;_0xd4e240<_0x2a24e5[_0x307ca4(0x140)];_0xd4e240++){const _0x56ab13=levenshteinDistance(_0x103aaf,_0x2a24e5[_0xd4e240][_0x307ca4(0x199)]);_0x56ab13<_0x160d20&&(_0x20d0df=_0x2a24e5[_0xd4e240],_0x160d20=_0x56ab13);}const _0x2cc0b6=0.2,_0x482696=Math[_0x307ca4(0x105)](_0x103aaf['length'],_0x20d0df['text'][_0x307ca4(0x140)]),_0x4c3bd8=0x1-_0x160d20/_0x482696;return console['log'](_0x4c3bd8),_0x4c3bd8>_0x2cc0b6?_0x20d0df:null;}function a3_0x5879(_0x142cef,_0x299358){const _0xc41e7d=a3_0xc41e();return a3_0x5879=function(_0x5879ed,_0x48acec){_0x5879ed=_0x5879ed-0xf3;let _0x2dd640=_0xc41e7d[_0x5879ed];return _0x2dd640;},a3_0x5879(_0x142cef,_0x299358);}sendButton[a3_0x2ef7b2(0x18b)](a3_0x2ef7b2(0x18c),()=>{const _0xa06a30=a3_0x2ef7b2,_0x44aa3e=userInput,_0x36b51d=_0x44aa3e[_0xa06a30(0x15b)][_0xa06a30(0x10d)]();_0x36b51d&&(_0x44aa3e[_0xa06a30(0x15b)]='',handleUserInput(_0x36b51d));}),userInput[a3_0x2ef7b2(0x18b)]('keypress',_0x332f0c=>{const _0x4b6886=a3_0x2ef7b2;_0x332f0c[_0x4b6886(0xf9)]===_0x4b6886(0x15e)&&sendButton['click']();}),chatContainer['addEventListener'](a3_0x2ef7b2(0x137),()=>{const _0x4f8235=a3_0x2ef7b2;chatContainer['scrollTop']<chatContainer[_0x4f8235(0x122)]-chatContainer[_0x4f8235(0x10c)]?scrollToBottomButton[_0x4f8235(0x153)][_0x4f8235(0x178)]=_0x4f8235(0xf6):scrollToBottomButton[_0x4f8235(0x153)]['display']=_0x4f8235(0x16f);}),scrollToBottomButton[a3_0x2ef7b2(0x18b)](a3_0x2ef7b2(0x18c),()=>{const _0x2b84f8=a3_0x2ef7b2;chatContainer['scrollTop']=chatContainer[_0x2b84f8(0x122)];}),closeModal[a3_0x2ef7b2(0x141)]=function(){const _0x2ff714=a3_0x2ef7b2;modal[_0x2ff714(0x153)][_0x2ff714(0x178)]='none',projectIframe[_0x2ff714(0x116)]=_0x2ff714(0x155);},window[a3_0x2ef7b2(0x141)]=function(_0x1aff66){const _0xde6d4d=a3_0x2ef7b2;_0x1aff66[_0xde6d4d(0xfd)]==modal&&(modal[_0xde6d4d(0x153)][_0xde6d4d(0x178)]=_0xde6d4d(0x16f));};function adjustAppContainer(){const _0x381fd3=a3_0x2ef7b2;if(window[_0x381fd3(0x152)]>=0x300){const _0xa7e376=window[_0x381fd3(0x13e)]-0x28,_0x158f82=0x9/19.5,_0x3222e6=_0xa7e376*_0x158f82;_0x3222e6<=0x177?(appContainer[_0x381fd3(0x153)][_0x381fd3(0x135)]=_0xa7e376+'px',appContainer['style'][_0x381fd3(0x171)]=_0x3222e6+'px'):(appContainer[_0x381fd3(0x153)][_0x381fd3(0x171)]=_0x381fd3(0x151),appContainer['style']['height']=0x177/_0x158f82+'px');}else appContainer[_0x381fd3(0x153)][_0x381fd3(0x171)]=_0x381fd3(0xff),appContainer[_0x381fd3(0x153)][_0x381fd3(0x135)]=_0x381fd3(0x159);}window[a3_0x2ef7b2(0x18b)](a3_0x2ef7b2(0x120),adjustAppContainer),adjustAppContainer();function preventBounce(_0x4bd762){const _0x5ab53d=a3_0x2ef7b2;_0x4bd762[_0x5ab53d(0x15f)]();}function allowBounce(_0x5e28b0){_0x5e28b0['stopPropagation']();}function cleanup(_0x20c27a){const _0x389e2a=a3_0x2ef7b2;console[_0x389e2a(0x14a)](_0x389e2a(0x163)),_0x20c27a[_0x389e2a(0x15f)](),_0x20c27a[_0x389e2a(0x166)]='',cleanupThreeJS();}window[a3_0x2ef7b2(0x18b)](a3_0x2ef7b2(0x113),_0xd310b2=>{const _0xba8cdb=a3_0x2ef7b2;window[_0xba8cdb(0x18b)]('beforeunload',cleanup);}),modal[a3_0x2ef7b2(0x18b)]('touchmove',preventBounce,{'passive':![]});export{toggleSound,updateSpeakerIcon,clickAnswer};